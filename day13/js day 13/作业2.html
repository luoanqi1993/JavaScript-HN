<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			.scroll{
				width: 400px;
				height: 8px;
				background: #ccc;
				margin: 100px;
				position: relative;
			}
			.bar{
				width: 10px;
				height: 22px;
				background: #369;
				position: absolute;
				top: -7px;
				left: 0;
				cursor: pointer;
			}
			.mask{
				width: 0;
				height: 100%;
				background: #336699;
				position: absolute;
				top: 0;
				left: 0;
			}
		</style>
	</head>
	<body>
		<div class="scroll" id="scroll">
			<div class="bar"></div>
			<div class="mask"></div>
		</div>
		<div id="demo"></div>
	</body>
	<script type="text/javascript">
		var scroll=document.getElementById("scroll");
		var bar=scroll.children[0];
		var mask=scroll.children[1];
		var demo=document.getElementById("demo");
		bar.onmousedown=function(e){
			var e=e||window.e;
			var left=e.clientX-this.offsetLeft;
			var that=this;
			document.onmousemove=function(e){
				var e=e||window.e;
				console.log(e.clientX-left)
				that.style.left=e.clientX-left+'px';
				var val=parseInt(that.style.left);
				if(val<0){
					that.style.left='0px'
				}else if(val>390){
					that.style.left='390px'
				}
				mask.style.width=that.style.left;
				demo.innerHTML='已经走了：'+parseInt(parseInt(that.style.left)/390*100)+'%';
			}
		}
	</script>
</html>
