<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			ul{
				list-style: none;
			}
			*{
				margin: 0;
				padding: 0;
			}
			.box{
				margin: 100px auto;
				width: 600px;
				height: auto;
				border: 1px solid #333;
				padding: 30px 0;
			}
			textarea{
				width: 450px;
				resize: none;
			}
			.box li{
				width: 450px;
				line-height: 30px;
				border-bottom: 1px dashed #ccc;
				margin-left: 80px;
			}
			.box li a{
				float: right;
			}
		</style>
		<script type="text/javascript">
			window.onload=function(){
				var btn=document.getElementsByTagName('button')[0];
				var txt=document.getElementsByTagName('textarea')[0];
				var ul=document.createElement('ul');//创建ul
				btn.parentNode.appendChild(ul);//把ul添加到button的父亲里面
				btn.onclick=function(){
					if(txt.value==''){
						alert('输入内容不能为空');
						return false;//终止整个函数的运行，后面的代码都不执行
					}
					var newli =document.createElement('li');
					newli.innerHTML=txt.value+'<a href="javascript:">删除</a>';//把文本域的内容给li
					txt.value='';
					var lis=ul.children;//获取我们有多少个li
					ul.insertBefore(newli,lis[0]);//保证我们每次添加的内容都在最上面，最新；
					var as=document.getElementsByTagName('a');//获取所有的a标签；
					for(var i=0;i<as.length;i++){
						as[i].onclick=function(){
							ul.removeChild(this.parentNode);//删除当前点击的哪个a标签的父亲
						}
					}
				}
				
				
				
				var asd=btn.parentNode.cloneNode(false);
				console.log(asd);
			}
		</script>
	</head>
	<body>
		<div class="box">
			微博发布：<textarea cols="30" rows="10"></textarea>
			<button>发布</button>
		</div>
	</body>
</html>
