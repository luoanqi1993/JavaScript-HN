<!DOCTYPE html>
<html>

	<head lang="en">
		<meta charset="UTF-8">
		<title></title>
		<style>
			div {
				width: 400px;
				margin: 50px;
			}
			
			#demo {
				width: 100px;
				background-color: pink;
				position: absolute;
				top: 0;
				left: 0;
				display: none;
			}
		</style>
	</head>

	<body>
		<span id="demo"></span>
		<div id="text">我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字我要复制的文字</div>
		<div id="another">
			我不要的文字 我不要的文字 我不要的文字 我不要的文字 我不要的文字 我不要的文字 我不要的文字 我不要的文字 我不要的文字 我不要的文字 我不要的文字 我不要的文字 我不要的文字 我不要的文字 我不要的文字 我不要的文字 我不要的文字 我不要的文字
		</div>
	</body>

</html>
<script>
	function $(id){
		return document.getElementById(id);
	}
	$('text').onmouseup=function(event){
		var e=event||window.event;
		var x=e.clientX;
		var y=e.clientY;
		if(window.getSelection){
			var txt=window.getSelection().toString();
		}else{
			var txt=document.selection.createRange().text;
		}
		if(txt){//字符串有东西就是真，为""就是假
			showbox(x,y,txt);
		}
		
		document.onmousedown=function(e){
			var e=e||window.e;
			var targetId=e.target?e.target.id:e.srcElement.id;
			if(targetId!='demo'){
				$('demo').style.display='none';
			}
		}
		
		
		
		
		
		
		function showbox(x,y,txt){
			setTimeout(function(){
				$('demo').style.display='block';
				$('demo').style.left=x+'px';
				$('demo').style.top=y+'px';
				$('demo').innerHTML=txt;
			},200);
		}
	}
</script>